<dom-module id="control-panel">
  <template>
    <style>

      :host {
        display: flex;
        flex-direction: column;
        position: fixed;
        bottom: 30px;
        right: 30px;
        width: auto;
        padding: 20px 15px;
        background-color: white;
        border: 1px solid gray;
      }

      .title {
        display: flex;
        font-size:12px;
        margin: 5px;
        justify-content: space-around;
      }

      .timelineName {
      }

      .progressPercent {
        width: 85px;
      }

      paper-slider {
        width: 100%;
      }

      #buttonContainer {
      }

      button {
        padding: 1rem;
        margin: 15px;
        font-size: 12px;
        cursor: pointer;
      }
    </style>

    <div class="title">
      <div class="timelineName">{{timeline.name}}</div>
      <div class="progressPercent">{{timeline.progress}}% complete</div>
    </div>
      <paper-slider id="progressSlider" pin min="0" max="100" step="1" value="{{timeline.progress}}"></paper-slider>
      <div class="buttonContainer">
        <button id="reverse">Reverse</button>
        <button id="play">Play</button>
        <button id="pause">Pause</button>
        <button id="reset">Reset</button>
      </div>

  </template>

  <script>
  (function() {
    'use strict';

    Polymer({
      is: 'control-panel',

      ready: function() {
      },

      listeners: {
        'progressSlider.immediate-value-change' : '_updateProgress',
        'reverse.tap' : '_reverse',
        'play.tap' : '_play',
        'pause.tap' : '_pause',
        'reset.tap' : '_reset'
      },

      _updateProgress: function(){

        var value = this.$$('#progressSlider').immediateValue;
        this.timeline.seek(value/100);
        this.timeline.pause();
      },

      _reset: function() {
         this.timeline.seek(0);
         this.timeline.reverse();
      },

      _reverse: function() {
        this.timeline.reverse();
      },

      _pause: function(){
        this.timeline.pause();
      },
      _play: function(){
        this.timeline.play();
      }

    });
  })();
  </script>
</dom-module>
